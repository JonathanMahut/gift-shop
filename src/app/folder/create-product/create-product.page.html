<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Create Your Product</ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-button slot = "end" type="submit" (click)="authService.SignOut()" slot = "end"><ion-icon name="log-out"></ion-icon></ion-button>
  </ion-toolbar>

</ion-header>

<ion-content fullscreen>
  <ion-button shape="round" expand="full" (click)="pickImages()">
    <ion-icon name="camera"></ion-icon>&nbsp;Ajouter Images
  </ion-button>
<ion-list>
  <ion-item>
    <ion-label position = "floating">Nom</ion-label>
    <ion-input type="text" [(ngModel)]="myProduct.title"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label position="floating">Description</ion-label>
    <ion-input type="text" [(ngModel)]="myProduct.description"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label position="floating">Prix</ion-label>
    <ion-input type="number" [(ngModel)]="myProduct.price"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label position="floating">Catégorie</ion-label>
    <ion-select  [(ngModel)]="myProduct.category">
      <ion-select-option [value]="cat.title" *ngFor = "let cat of categories">{{cat.title}}</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-label position="floating">Ville</ion-label>
    <ion-select  [(ngModel)]="myProduct.city">
      <ion-select-option [value]="city.title" *ngFor = "let city of cities">{{city.title}}</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item-divider color="primary">
    <ion-icon name="build"></ion-icon>
  </ion-item-divider>
  <ion-item>
    <ion-label position="floating">Etat</ion-label>
    <ion-select [(ngModel)]="myProduct.state">
      <ion-select-option value="Neuf" >Neuf</ion-select-option>
      <ion-select-option value="Reconditionne" >Reconditionné</ion-select-option>
      <ion-select-option value="Occasion" >Occasion</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-label position="floating">Disponibilité</ion-label>
    <ion-select [(ngModel)]="myProduct.availability.type">
      <ion-select-option value="Magasin" >Magasin</ion-select-option>
      <ion-select-option value="Livraison" >Livraison</ion-select-option>
      <ion-select-option value="Main a main" >Main à Main</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item *ngIf="myProduct.availability.type==='Livraison'">
    <ion-label position="floating">Frais de Livraison</ion-label>
    <ion-input type="number" [(ngModel)]="myProduct.availability.feed"></ion-input>
  </ion-item>
  <ion-item>
    <ion-button (click)="createProduct(myProduct)">Créer</ion-button> 
  </ion-item>
</ion-list>
</ion-content>
<ion-footer color="primary"></ion-footer>